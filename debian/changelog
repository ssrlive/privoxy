privoxy (3.0.4.cvs20060917-1) UNRELEASED; urgency=low

  * New upstream CVS snapshot as of 2006-09-17.
  * hide-referrer{foo} now allows everything as a forged referrer not 
    only http/https URLs and ignoring invalid URLs (Closes: #258193).  
  * Fixes the name of the filter from "popups" to "all-popups" in
    user.action. (Closes: #385886).
  * Block http://www.google-analytics.com/urchin.js because this is used
    for cross site user tracking according to
    http://www.google.com/analytics/ (Closes: #340913).
  * Adapted all patches to this version.
  * The following patches are incorporated upstream now, so they are no
    longer needed: 01_local_usermanual.dpatch, 04_nomultiproxy.dpatch,
    08_log_pthread.dpatch, 09_no_identity.dpatch,
    12_multiple-filters.dpatch, 13_memory.dpatch, 18_dns_retry.dpatch.
  * 20_makefile_fixup.dpatch: Fix a syntax error in the GNUmakefile.in.
  * 05_default_action.dpatch: main parts are incorporated upstream now.
  * 05_default_action.dpatch: disable filter ie-eploits for amazon.de,
    cause they use %01 and %02 as delimiters for multipage results
    (Closes: #243245).
  * 03_ipv6.dpatch: Add IPv6 support (Closes: #179461).

 -- Roland Rosenfeld <roland@debian.org>  Sun, 17 Sep 2006 10:00:08 +0200

privoxy (3.0.3-2-2) unstable; urgency=low

  * Upgrade to Standards-Version 3.7.2 (no changes).
  * 17_502_no_such_domain.dpatch: Changes the 404 HTTP status code of the
    "No such Domain" template to 502 Bad Gateway, which seems to be more
    correct according to http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html
    (Closes: #380389).
  * Disable filter{js-annoyances} and filter{unsolicited-popups} for
    .cnrs.fr and blogs.msdn.com, because these sites consume very much CPU
    time otherwise (Closes: #377843).
  * 18_dns_retry.dpatch by Fabian Keil <fk@fabiankeil.de>: 10 retries
    before giving up DNS lookup. This hopefully Closes: #335660.
  * 19_manpage_fixup.dpatch:
    - Convert Latin-1 char รก to groff eqivalent in man page.
    - Quote minus signs to differenciate them from hyphens.
  * Do not filter{banners-by-size} on .w3.org pages, because these often
    contain validator icons (Closes: #319025).

 -- Roland Rosenfeld <roland@debian.org>  Sat,  5 Aug 2006 15:15:17 +0200

privoxy (3.0.3-2-1) unstable; urgency=low

  * New upstream version 3.0.3-2.
  * Add debian/watch file.
  * Remove parts of 13_memory.dpatch, which seems to free too much
    memory (Closes: #353110, #354611).

 -- Roland Rosenfeld <roland@debian.org>  Mon, 27 Feb 2006 23:28:52 +0100

privoxy (3.0.3-6) unstable; urgency=low

  * Now hopefully really redirect all output of logrotate to /dev/null
    (Closes: #314868).
  * Migrate all patches to dpatch mechanism.
  * Upgrade to debhelper 5.
  * Call htmldoc with parameter --no-embedfonts to keep PDF files small.
  * Build-Depends on htmldoc (>= 1.8.25-1), because older versions caused
    broken PDF documentation on 64bit systems.
  * Fix some typos in user-manual.
  * Add multiple filter file support (from CVS) (Closes: #201177).
  * Fix some memory leaks, mallocs, double frees (from CVS).
  * Remove CVS $-tags from config files to make it easier for users to
    keep the configuration in a VCS (Closes: #350799).
  * Remove trailing spaces from all config files now.
  * Build man page (and HTML version of it) at build time.

 -- Roland Rosenfeld <roland@debian.org>  Sat, 11 Feb 2006 21:27:14 +0100

privoxy (3.0.3-5) unstable; urgency=low

  * Redirect output of restart script in logrotate to /dev/null
    (Closes: #314868).
  * Upgrade to Standards-Version 3.6.2:
    - Recommends: doc-base
  * Build-Depends on autotools-dev and copy config.guess and config.sub
    from there on every build (Closes: #332767).
  * After dechunking remove the "chunked"-header instead of replacing it
    by an d"identity" header. Thanks to Michael Shields for reporting this
    (Closes: #318683).
  * Update address of FSF in copyright file.

 -- Roland Rosenfeld <roland@debian.org>  Sun,  9 Oct 2005 13:44:55 +0200

privoxy (3.0.3-4) unstable; urgency=low

  * Stop converting entities to 8bit chars in the documentation 
    (Closes: #203697).
  * Fix typos ('persistant' and 'Januar') in man page and man page sources
    (Closes: #302145).
  * Restart privoxy in logrotate script instead of sendig a kill -HUP, to
    triggering reopen of log files (Closes: #285059).
  * Apply patch by Jindrich Makovicka to fix race conditions in log
    writing functions (Closes: #299662).
  * Stop hiding referrer for www.petitiononline.com/mod_perl/signed.cgi,
    because this site does not work otherwise (Closes: #250407).

 -- Roland Rosenfeld <roland@debian.org>  Sun, 15 May 2005 15:28:56 +0200

privoxy (3.0.3-3) unstable; urgency=low

  * Now really remove multiproxy.org from all documentation, not only from
    the config file (Closes: #198953). 

 -- Roland Rosenfeld <roland@debian.org>  Sun, 15 Feb 2004 23:11:29 +0100

privoxy (3.0.3-2) unstable; urgency=low

  * no banners-by-side on "/valid-" images, because that's usually from
    validator.w3.org (Closes: #221009).
  * Upgrade to Standards-Version 3.6.1 (no changes).
  * Add Homepage URL to the package description.
  * If the privoxy user is already existing as a non-system user in
    postinst, this no longer fails, but deletes the non-system user before
    adding it again as a system user (Closes: #232724).
  * Use deluser instead of userdel in postrm.
  * Redirect stderr of privoxy to /var/log/privoxy/errfile to avoid
    problems with kept open file descriptors (Closes: #200712).
  * Remove comment from config file, which points to list of open proxies
    at multiproxy.org (Closes: #198953).

 -- Roland Rosenfeld <roland@debian.org>  Sun, 15 Feb 2004 15:13:27 +0100

privoxy (3.0.3-1) unstable; urgency=low

  * New upstream version 3.0.3.
    - This introduces workarounds for server (PHP <4.2.3) bugs including
      the "blank page" problem (Closes: #215231).
    - Avoid the conversion of "open" in scripts to "PrivoxyWindowOpen"
      (Closes: #197995). 
    - "advocancy" is no longer blocked (Closes: #202042).
    - Fixed yet another two memory leaks (Closes: #215911).
  * Stop backup of pdf directory, because it is no longer contained in the
    upstream package.
  * Create doc/pdf, which is missing upstream.
  * disable filter{unsolicited-popups} for www.perl.com/language/newdocs/pod/ 
    to avoid problems with "PrivoxyWindowOpen" in Perl manuals
    (Closes: #195311).
  * Apply patch make privoxy compilable on woody where htmldoc --version
    doesn't exist (Closes: #216524).

 -- Roland Rosenfeld <roland@debian.org>  Sat, 31 Jan 2004 11:25:53 +0100

privoxy (3.0.2-5) unstable; urgency=low

  * Merge corrections from upstream default.action 1.7.
    - demoronizer filter (which caused trouble on non latin1 charsets) is
      now switched off by default (Closes: #202234).

 -- Roland Rosenfeld <roland@debian.org>  Tue,  9 Sep 2003 21:31:51 +0200

privoxy (3.0.2-4) unstable; urgency=low

  * Add a versioned build dependency on htmldoc (>= 1.8.20), because there
    seem to be some options mission in the old 1.8.17 (Closes: #192457).
  * Merge rotation of logfile and jarfile in logrotate script.
  * Test whether /var/run/privoxy.pid is existing and don't bother when no
    privoxy is running in logrotate script (Closes: #191838).
  * Remove /var/run/privoxy.pid on privoxy stop in init.d script.
  * Mention apt-get instead of dpkg in user-manual (Closes: #189239).
  * Remove trailing whitespace from text versions of user-manual,
    developer-manual and faq (Closes: #192566).

 -- Roland Rosenfeld <roland@debian.org>  Fri,  9 May 2003 08:21:30 +0200

privoxy (3.0.2-3) unstable; urgency=low

  * Stop filtering favicon.ico, which may cause trouble (Closes: #188947).
  * Send SIGHUP to privoxy instead of touching /etc/provoxy/config in
    logrotate script to tell privoxy that the logfiles were rotated
    (Closes: #189240).
  * Remove trailing spaces from config file (Closes: #189240).
  * Install man page as privoxy(8) instead of privoxy(1), because this is
    a system binary.
  * Build HTML, text, and PDF versions of the documentation from source.
  * Fix setting of dodk in configure.in.
  * Add option "--linkcolor #0000ff" to htmldoc call in ldp_print to be
    independent of ~/.htmldocrc color setting.
  * Mention PDF and text version of the documentation in doc-base files.
  * Install PDF version of the documentation, too.
  * Install HTML version of the man page, too.

 -- Roland Rosenfeld <roland@debian.org>  Mon, 21 Apr 2003 11:11:31 +0200

privoxy (3.0.2-2) unstable; urgency=low

  * Don't apply any filters to {bugs|lists}.debian.org (Closes: #186537).
  * Prepend "http://config.privoxy.org" before "/user-manual/" to always
    get a correct URL for the local user-manual (also on 404 error pages).
    (Closes SF-719724).

 -- Roland Rosenfeld <roland@debian.org>  Sun, 13 Apr 2003 12:49:15 +0200

privoxy (3.0.2-1) unstable; urgency=low

  * New upstream version 3.0.2.
  * Update Standards-Version to 3.5.9 (no changes).

 -- Roland Rosenfeld <roland@debian.org>  Wed, 26 Mar 2003 19:45:07 +0100

privoxy (3.0.0-6) unstable; urgency=low

  * Fixed a bug in local user-manual patch, which failed when accessing
    http://config.privoxy.org/user-manual/ (without a file name).

 -- Roland Rosenfeld <roland@debian.org>  Sun,  2 Mar 2003 13:40:48 +0100

privoxy (3.0.0-5) unstable; urgency=low

  * Stop build-depending on special versions of libc6-dev and gcc.
    Hopefully all auto-builders run new versions which shouldn't cause
    trouble (Closes: #182267)  

 -- Roland Rosenfeld <roland@debian.org>  Mon, 24 Feb 2003 19:07:11 +0100

privoxy (3.0.0-4) unstable; urgency=low

  * Set "enable-edit-actions 0" and "enable-remote-toggle 0" in config
    file, instead of simply commenting out these two lines.  Mention this
    configuration change in README.Debian (Closes: #172965, #172966).
  * Add new "cgi" user-manual, which sends the user manual to the client
    and activate it in config file (Closes: #148128).
  * Build-Depend on libc6-dev (>> 2.2.5) to avoid problems with pthread
    (Closes: #158306, #162693).
  * Don't search for user bsmtp in /etc/passwd before using adduser.
    adduser handles already existing users correct.
  * Remove /etc/provoxy on purge (Closes: #164039).
  * Upgrade to Standards-Version 3.5.8:
    - remove support for DEB_BUILD_OPTION "debug"
    - add support for DEB_BUILD_OPTION "noopt"
  * Upgrade to debhelper >=4 and use debian/compat instead of DH_COMPAT.
  * Upgrade config.guess and config.sub (from autotools-dev 20030110.1).
  * Remove no-pthread workaround for hppa and build-depend on gcc >=3.2.2,
    which supports -pthread on hppa, too.

 -- Roland Rosenfeld <roland@debian.org>  Sun, 23 Feb 2003 13:34:11 +0100

privoxy (3.0.0-3) unstable; urgency=low

  * Add aliases "wafer" and "vanilla-wafer" for "send-wafer" and
    "send-vanilla-wafer" to actionlist to provide backward compatibility
    to 2.9.14 (Closes: #154647).

 -- Roland Rosenfeld <roland@debian.org>  Sun,  8 Sep 2002 11:43:38 +0200

privoxy (3.0.0-2) unstable; urgency=low

  * Recompile with libc6 from testing (instead of unstable).

 -- Roland Rosenfeld <roland@debian.org>  Fri,  6 Sep 2002 17:32:35 +0200

privoxy (3.0.0-1) unstable; urgency=low

  * New upstream version (Closes: #158613).
  * Remove version number from config file, to avoid changing it on every
    new upstream version.  Sorry, this time you will still be bothered...

 -- Roland Rosenfeld <roland@debian.org>  Sun,  1 Sep 2002 18:58:07 +0200

privoxy (2.9.20-1) unstable; urgency=low

  * New upstream version.

 -- Roland Rosenfeld <roland@debian.org>  Sun, 11 Aug 2002 11:05:01 +0200

privoxy (2.9.18-2) unstable; urgency=low

  * Disable docbook, we use the precompiled docs (Closes: #155989).

 -- Roland Rosenfeld <roland@debian.org>  Sat, 10 Aug 2002 09:36:58 +0200

privoxy (2.9.18-1) unstable; urgency=low

  * New upstream version.
  * Use start-stop-daemon for starting privoxy to avoid problems on start,
    when privoxy is already running (Closes: #154882).
  * Undo broken -Ipcre inclusion in GNUmakefile.in, which causes trouble
    with using wrong pcreposix.h.

 -- Roland Rosenfeld <roland@debian.org>  Thu,  8 Aug 2002 21:01:48 +0200

privoxy (2.9.16-1) unstable; urgency=low

  * New upstream version.
  * Exclude CVS files from dh_installdocs (when compiling from CVS).
  * Add user.action and standard.action to /etc/privoxy.
  * Install images for html version of documentation.
  * Do no longer build html and txt versions of documentation using
    docbook, but use the converted versions which come with the upstream
    package.
  * default.action fixed upstream: "downloads" no longer blocked 
    (Closes: #148290).
  * default.filter fixed upstream: Made WeBugs job ungreedy (Closes: #149450).
  * Remove the "beta" from the version number (the final release will be
    named 3.0, so it's superfluous).

 -- Roland Rosenfeld <roland@debian.org>  Sat, 27 Jul 2002 18:55:11 +0200

privoxy (2.9.14-beta-4) unstable; urgency=low

  * Damn, why did I write "i386-linux" into the rules file, when I try to
    write a work around for hppa?  Fixed now (Closes #148227).

 -- Roland Rosenfeld <roland@debian.org>  Sun, 26 May 2002 22:33:26 +0200

privoxy (2.9.14-beta-3) unstable; urgency=low

  * Fix typo ('[' instead of '{') in default.action (Closes: #148122).
  * Disable edit-actions and remote-toggle in config file by default
    (Closes: #148125).
  * Use --disable-pthread on hppa, to avoid problem with hppa gcc not
    supporting -pthread option (Closes: #148117).
  * Install p_doc.css in documentation directory.

 -- Roland Rosenfeld <roland@debian.org>  Sun, 26 May 2002 01:40:18 +0200

privoxy (2.9.14-beta-2) unstable; urgency=low

  * Fix debian/rules clean to really clean.
  * Change owner of /etc/privoxy/{*.action|trust} to privoxy in postinst,
    to allow modification of these files web interface (Closes: SF-552144).

 -- Roland Rosenfeld <roland@debian.org>  Thu, 23 May 2002 18:38:27 +0200

privoxy (2.9.14-beta-1) unstable; urgency=low

  * New upstream version.

 -- Roland Rosenfeld <roland@debian.org>  Sat, 13 Apr 2002 18:05:26 +0200

privoxy (2.9.13-beta-2) unstable; urgency=low

  * Create HTML and ASCII versions of the documentation using docbook now.

 -- Roland Rosenfeld <roland@debian.org>  Sun, 31 Mar 2002 23:53:28 +0200

privoxy (2.9.13-beta-1) unstable; urgency=low

  * Initial Release.

 -- Roland Rosenfeld <roland@debian.org>  Fri, 29 Mar 2002 11:52:03 +0100

